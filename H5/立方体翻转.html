<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
	*{
		margin:0;
		padding:0;
		list-style:none;
	}
	.box{
		width:700px;
		height:400px;
		margin: 100px auto;
		border:5px solid red;
		overflow:hidden;
	}
	#box{
		margin-left:-700px;
		width:2100px;
		height:400px;
		transform-style:preserve-3d;
		/*perspective:800px;*/
	}
	#box li{
		width:700px;
		height:400px;
		float:left;
	}
	#box .left{
		transform-origin:right center;
		transform: rotateY(-90deg);
	}
	#box .right{
		transform-origin:left center;
		transform: rotateY(90deg);
	}
</style>
<script>
	window.onload = function(){
		var oBox=document.querySelector('#box');
		var aLi=document.querySelectorAll('#box li');
		var iNow=1;
			lNow=0;
			rNow=2;
		var bFloag=false;
		
		for(var i=0;i<aLi.length;i++){
			aLi[i].style.background='url(img/'+i+'.jpg)';
		}
		
		var aBtn=document.querySelectorAll('input[type=button]');
		aBtn[0].onclick=function(){
			if(bFloag)return false;
			bFloag=true;
			iNow--;
			if(iNow==-1)iNow=2;
			lNow--;
			if(lNow==-1)lNow=2;
			rNow--;
			if(rNow==-1)rNow=2;
			
			oBox.style.transition='1s all ease';
			oBox.style.marginLeft='-350px';
			oBox.style.transform='rotateY(90deg)';
			oBox.addEventListener('transitionend',tab,false);
		}
		aBtn[1].onclick=function(){
			if(bFloag)return false;
			bFloag=true;
			iNow++;
			if(iNow==3)iNow=0;
			lNow++;
			if(lNow==3)lNow=0;
			rNow++;
			if(rNow==3)rNow=0;
			
			oBox.style.transition='1s all ease';
			oBox.style.marginLeft='-1050px';
			oBox.style.transform='rotateY(-90deg)';
			oBox.addEventListener('transitionend',tab,false);
		}
		function tab(){
			oBox.style.transition='none';
			oBox.style.marginLeft='-700px';
			oBox.style.transform='rotateY(0deg)';
			aLi[0].style.backgroundImage='url(img/'+lNow+'.jpg)';
			aLi[1].style.backgroundImage='url(img/'+iNow+'.jpg)';
			aLi[2].style.backgroundImage='url(img/'+rNow+'.jpg)';
			bFloag=false;
		}
	}
</script>
</head>
<body>
	<input type="button" value="左" />
	<input type="button" value="右" />
	<div class="box">
		<ul id="box">
			<li class="left"></li>
			<li></li>
			<li class="right"></li>
		</ul>
	</div>
</body>
</html>
